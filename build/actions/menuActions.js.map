{"version":3,"sources":["../../src/actions/menuActions.js"],"names":["createMenu","menu","MenuModel","create","MenuCreated","filterCategory","_id","menuCategoryID","filterRestaurant","restaurantID","update","$push","getMenus","find","populate","console","log","updateMenu","filter","modified","findOneAndUpdate"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEO,IAAMA,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEQC,iBAAUC,MAAV,CAAiBF,IAAjB,CAFR;;AAAA;AAEZG,YAAAA,WAFY;AAGZC,YAAAA,cAHY,GAGK;AAAEC,cAAAA,GAAG,EAAEL,IAAI,CAACM;AAAZ,aAHL;AAIZC,YAAAA,gBAJY,GAIO;AAAEF,cAAAA,GAAG,EAAEL,IAAI,CAACQ;AAAZ,aAJP;AAKZC,YAAAA,MALY,GAKH;AAAEC,cAAAA,KAAK,EAAE;AAAE,yBAASP,WAAW,CAACE;AAAvB;AAAT,aALG;AAAA;AAAA,mBAMZ,4CAAmBD,cAAnB,EAAmCK,MAAnC,CANY;;AAAA;AAAA;AAAA,mBAOZ,yCAAiBF,gBAAjB,EAAmCE,MAAnC,CAPY;;AAAA;AAAA,6CAQXN,WARW;;AAAA;AAAA;AAAA;AAAA,6CAWX,IAXW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVJ,UAAU;AAAA;AAAA;AAAA,GAAhB;;;;AAeA,IAAMY,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEHV,iBAAUW,IAAV,GACZC,QADY,CACH,gBADG,EACe,CAAC,MAAD,EAAS,mBAAT,CADf,EAEZA,QAFY,CAEH,cAFG,EAEa,CAAC,MAAD,EAAS,SAAT,EAAoB,iBAApB,CAFb,CAFG;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAMhBC,YAAAA,OAAO,CAACC,GAAR;;AANgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARJ,QAAQ;AAAA;AAAA;AAAA,GAAd;;;;AAUA,IAAMK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG,kBAAOC,MAAP,EAAeR,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGZS,YAAAA,QAHY,GAGDjB,iBAAUkB,gBAAV,CAA2BF,MAA3B,EAAmCR,MAAnC,EAA2C;AAAE,qBAAK;AAAP,aAA3C,CAHC;AAAA;AAAA,mBAILS,QAJK;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVF,UAAU;AAAA;AAAA;AAAA,GAAhB","sourcesContent":["import { MenuModel } from '../database/models/index';\r\nimport { updateMenuCategory } from './mCategoriesActions';\r\nimport { updateRestaurant } from './restaurantActions';\r\n\r\nexport const createMenu = async (menu) => {\r\n    try {\r\n        const MenuCreated = await MenuModel.create(menu);\r\n        const filterCategory = { _id: menu.menuCategoryID };\r\n        const filterRestaurant = { _id: menu.restaurantID }\r\n        const update = { $push: { 'menus': MenuCreated._id } }\r\n        await updateMenuCategory(filterCategory, update);\r\n        await updateRestaurant(filterRestaurant, update);\r\n        return MenuCreated;\r\n\r\n    } catch (err) {\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getMenus = async () => {\r\n    try {\r\n        return await MenuModel.find()\r\n        .populate('menuCategoryID', ['name', 'menuCategoryImage'])\r\n        .populate('restaurantID', ['name', 'address', 'restaurantImage']);\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n};\r\n\r\nexport const updateMenu = async (filter, update) => {\r\n    // ver el { new: true }\r\n    try {\r\n        const modified = MenuModel.findOneAndUpdate(filter, update, { new: true });\r\n        return await modified;\r\n    } catch (err) {\r\n        return err;\r\n    }\r\n\r\n}"],"file":"menuActions.js"}