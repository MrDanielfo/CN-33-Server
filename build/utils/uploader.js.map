{"version":3,"sources":["../../src/utils/uploader.js"],"names":["storeUpload","stream","cloudinary","config","cloud_name","CLOUD_NAME","api_key","API_KEY","api_secret","API_SECRET","Promise","resolve","reject","buffer","v2","uploader","upload_stream","err","result","pipe"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEO,SAASA,WAAT,CAAqBC,MAArB,EAA6B;AAEhC;AACA;AACA;AACA;AACA;AAEAC,yBAAWC,MAAX,CAAkB;AACdC,IAAAA,UAAU,EAAEC,iBADE;AAEdC,IAAAA,OAAO,EAAEC,cAFK;AAGdC,IAAAA,UAAU,EAAEC;AAHE,GAAlB;;AAMA,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAMC,MAAM,GAAGX,uBAAWY,EAAX,CAAcC,QAAd,CAAuBC,aAAvB,CAAqC,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACjE,UAAGD,GAAH,EAAQL,MAAM,CAACK,GAAD,CAAN;AACRN,MAAAA,OAAO,CAACO,MAAD,CAAP;AACH,KAHc,CAAf;;AAIAjB,IAAAA,MAAM,CAACkB,IAAP,CAAYN,MAAZ;AACH,GANM,CAAP;AAQH;;AAAA","sourcesContent":["import cloudinary from 'cloudinary';\r\nimport { CLOUD_NAME, API_KEY, API_SECRET  } from '../config/index';\r\n\r\nexport function storeUpload(stream) {\r\n\r\n    // cloudinary.config({\r\n    //     cloud_name : process.env.CLOUD_NAME,\r\n    //     api_key: process.env.API_KEY,\r\n    //     api_secret: process.env.API_SECRET\r\n    // })\r\n\r\n    cloudinary.config({\r\n        cloud_name: CLOUD_NAME,\r\n        api_key: API_KEY,\r\n        api_secret: API_SECRET\r\n    })\r\n\r\n    return new Promise((resolve, reject) => {\r\n        const buffer = cloudinary.v2.uploader.upload_stream((err, result) => {\r\n            if(err) reject(err);\r\n            resolve(result);\r\n        });\r\n        stream.pipe(buffer);\r\n    });\r\n\r\n};"],"file":"uploader.js"}