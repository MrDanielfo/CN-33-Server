{"version":3,"sources":["../../src/utils/uploader.js"],"names":["storeUpload","stream","cloudinary","config","cloud_name","process","env","CLOUD_NAME","api_key","API_KEY","api_secret","API_SECRET","Promise","resolve","reject","buffer","v2","uploader","upload_stream","err","result","pipe"],"mappings":";;;;;;;;;AAAA;;AAEO,SAASA,WAAT,CAAqBC,MAArB,EAA6B;AAEhCC,yBAAWC,MAAX,CAAkB;AACdC,IAAAA,UAAU,EAAGC,OAAO,CAACC,GAAR,CAAYC,UADX;AAEdC,IAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,OAFP;AAGdC,IAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHV,GAAlB;;AAMA,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAMC,MAAM,GAAGb,uBAAWc,EAAX,CAAcC,QAAd,CAAuBC,aAAvB,CAAqC,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACjE,UAAGD,GAAH,EAAQL,MAAM,CAACK,GAAD,CAAN;AACRN,MAAAA,OAAO,CAACO,MAAD,CAAP;AACH,KAHc,CAAf;;AAIAnB,IAAAA,MAAM,CAACoB,IAAP,CAAYN,MAAZ;AACH,GANM,CAAP;AAQH;;AAAA","sourcesContent":["import cloudinary from 'cloudinary';\r\n\r\nexport function storeUpload(stream) {\r\n\r\n    cloudinary.config({\r\n        cloud_name : process.env.CLOUD_NAME,\r\n        api_key: process.env.API_KEY,\r\n        api_secret: process.env.API_SECRET\r\n    })\r\n\r\n    return new Promise((resolve, reject) => {\r\n        const buffer = cloudinary.v2.uploader.upload_stream((err, result) => {\r\n            if(err) reject(err);\r\n            resolve(result);\r\n        });\r\n        stream.pipe(buffer);\r\n    });\r\n\r\n};"],"file":"uploader.js"}