{"version":3,"sources":["../../src/graphql/resolvers.js"],"names":["pubSub","PubSub","RESTAURANT_ADDED","books","title","author","resolvers","Subscription","restaurantAdded","subscribe","parent","args","context","info","asyncIterator","Query","getUsers","getDeliveriers","getRestaurants","getRestaurantCategories","getMenus","getMenuCategories","Mutation","addUser","data","newUser","addDeliverier","doLogin","email","password","error","doLoginDeliveriers","updateUser","userID","filter","_id","update","$set","addRestaurant","restaurantImage","createReadStream","stream","url","newRestaurantInfo","newRestaurant","publish","updateRestaurant","restaurantID","addRestaurantCategory","restaurantCategoryImage","newRestaurantCategoryInfo","newRCategory","updateRestaurantCategory","rCategoryID","addMenu","menuImage","newMenuInfo","newMenu","updateMenu","menuID","addMenuCategory","menuCategoryImage","newMenuCategoryInfo","newMCategory","updateMenuCategory","mCategoryID"],"mappings":"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","sourcesContent":["import { PubSub } from 'apollo-server';\r\n\r\nconst pubSub = new PubSub;\r\nconst RESTAURANT_ADDED = 'RESTAURANT_ADDED';\r\n\r\nimport {  \r\n   createUser, \r\n   getUsers, \r\n   updateUser, \r\n   doLoginAction \r\n  } from '../actions/userActions';\r\n\r\nimport { createDeliverier, getDeliveriers, doLoginDeliveriers } from '../actions/deliverierActions';\r\n\r\nimport { createRestaurant, getRestaurants, updateRestaurant } from '../actions/restaurantActions';\r\n\r\nimport { createRestaurantCategory, getRestaurantCategories, updateRestaurantCategory } from '../actions/rCategoriesActions';\r\n\r\nimport {\r\n   createMenuCategory,\r\n   getMenuCategories,\r\n   updateMenuCategory\r\n } from '../actions/mCategoriesActions';\r\n\r\nimport { createMenu, getMenus, updateMenu } from '../actions/menuActions';\r\n\r\nimport { storeUpload } from '../utils/uploader';\r\n\r\n \r\n const books = [\r\n   {\r\n     title: 'Harry Potter and the Chamber of Secrets',\r\n     author: 'J.K. Rowling'\r\n   },\r\n   {\r\n     title: 'Jurassic Park',\r\n     author: 'Michael Crichton'\r\n   }\r\n ];\r\n\r\n const resolvers = {\r\n\r\n    Subscription: {\r\n      restaurantAdded: {\r\n        subscribe: (parent, args, context, info) => pubSub.asyncIterator([RESTAURANT_ADDED])\r\n      }\r\n    },\r\n   Query: {\r\n     books: () => books,\r\n     getUsers: async (parent, args, context, info) => {\r\n       try {\r\n         return await getUsers();\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     getDeliveriers: async() => {\r\n        try {\r\n          return await getDeliveriers();\r\n        } catch (err) {\r\n          return err; \r\n        }\r\n     },\r\n     getRestaurants: async (parent, args, context, info) => {\r\n       try {\r\n         return await getRestaurants();\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     getRestaurantCategories: async (parent, args, context, info) => {\r\n       try {\r\n         return await getRestaurantCategories();\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     getMenus: async (parent, args, context, info) => {\r\n       try {\r\n         return await getMenus();\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     getMenuCategories: async (parent, args, context, info) => {\r\n       try {\r\n         return await getMenuCategories();\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     }\r\n   },\r\n   Mutation: {\r\n     addUser: async (parent, args, context , info) => {\r\n       try {\r\n        const newUser = await createUser(args.data);\r\n        return newUser;\r\n\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n       \r\n     },\r\n     addDeliverier: async(parent, args, context, info) => {\r\n        try {\r\n          return await createDeliverier(args.data);\r\n        } catch (err) {\r\n          return err;\r\n        }\r\n     },\r\n    doLogin: async (parent, { email, password }, context, info) => {\r\n        try {\r\n          return await doLoginAction(email, password);\r\n        } catch (err) {\r\n          return error; \r\n      }\r\n    },\r\n    doLoginDeliveriers: async (parent, { email, password }, context, info) => {\r\n      try {\r\n          return await doLoginDeliveriers(email, password);\r\n        } catch (err) {\r\n          return error;\r\n        }\r\n    },\r\n     updateUser: async (parent, { data, userID }, context, info) => {\r\n       try {\r\n         const filter = { _id: userID };\r\n         const update = { $set: { ...data } };\r\n         return await updateUser(filter, update);\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     addRestaurant: async (parent, { data }, context, info) => {\r\n       try {\r\n          const { createReadStream } = await data.restaurantImage;\r\n          const stream = createReadStream();\r\n          const { url } = await storeUpload(stream);\r\n          const newRestaurantInfo = {\r\n            ...data,\r\n            restaurantImage: url\r\n          };\r\n\r\n        const newRestaurant = await createRestaurant(newRestaurantInfo);\r\n\r\n        pubSub.publish(\r\n           RESTAURANT_ADDED, \r\n          { restaurantAdded: { data } }\r\n        );\r\n        return newRestaurant;\r\n\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     updateRestaurant: async (parent, { data, restaurantID }, context, info ) => {\r\n       try {\r\n         const filter = { _id: restaurantID };\r\n         const update = { $set: { ...data } };\r\n         return await updateRestaurant(filter, update);\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     addRestaurantCategory: async (parent, { data }, context, info) => {\r\n       try {\r\n         const { createReadStream } = await data.restaurantCategoryImage;\r\n         const stream = createReadStream();\r\n         const { url } = await storeUpload(stream);\r\n         const newRestaurantCategoryInfo = {\r\n           ...data,\r\n           restaurantCategoryImage: url\r\n         };\r\n\r\n         const newRCategory = await createRestaurantCategory(newRestaurantCategoryInfo);\r\n         return newRCategory;\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     updateRestaurantCategory: async (\r\n       parent,\r\n       { data, rCategoryID },\r\n       context,\r\n       info\r\n     ) => {\r\n       try {\r\n         const filter = { _id: rCategoryID };\r\n         const update = { $set: { ...data } };\r\n         return await updateRestaurantCategory(filter, update);\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     addMenu: async (parent, { data }, context, info) => {\r\n       try {\r\n         const { createReadStream } = await data.menuImage;\r\n         const stream = createReadStream();\r\n         const { url } = await storeUpload(stream);\r\n         const newMenuInfo = {\r\n           ...data,\r\n           menuImage: url\r\n         }\r\n\r\n         const newMenu = await createMenu(newMenuInfo);\r\n         return newMenu;\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     updateMenu: async (parent, { data, menuID }, context, info ) => {\r\n       try {\r\n         const filter = { _id: menuID };\r\n         const update = { $set: { ...data } };\r\n         return await updateMenu(filter, update);\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     addMenuCategory: async (parent, { data }, context, info) => {\r\n       try {\r\n        const { createReadStream } = await data.menuCategoryImage;\r\n        const stream = createReadStream();\r\n        const { url } = await storeUpload(stream);\r\n        const newMenuCategoryInfo = {\r\n          ...data,\r\n          menuCategoryImage: url\r\n        };\r\n\r\n         const newMCategory = await createMenuCategory(newMenuCategoryInfo);\r\n         return newMCategory;\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     },\r\n     updateMenuCategory: async (\r\n       parent,\r\n       { data, mCategoryID },\r\n       context,\r\n       info\r\n     ) => {\r\n       try {\r\n         const filter = { _id: mCategoryID };\r\n         const update = { $set: { ...data } };\r\n         return await updateMenuCategory(filter, update);\r\n       } catch (err) {\r\n         return err;\r\n       }\r\n     }\r\n   }\r\n };\r\n\r\n export default resolvers;\r\n"],"file":"resolvers.js"}